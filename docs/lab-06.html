<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<!-- Github Logo -->



<meta name="author" content="Angus Watters" />


<title>Flood Risk in Mission Creek: Past, Present, Future</title>

<script src="lab-06_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="lab-06_files/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="lab-06_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="lab-06_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="lab-06_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="lab-06_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="lab-06_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="lab-06_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="lab-06_files/navigation-1.1/tabsets.js"></script>
<script src="lab-06_files/navigation-1.1/codefolding.js"></script>
<script src="lab-06_files/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="lab-06_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="lab-06_files/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="C:\Users\angus\OneDrive\Documents\R\win-library\4.0\mikedown\rmarkdown\templates\ucsb\resources\style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
    <img style="margin-bottom: 20px" src="https://github.com/mikejohnson51/mikedown/raw/master/inst/rmarkdown/templates/ucsb/resources/ucsb-navy-white.png" alt="logo">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Flood Risk in Mission Creek: Past, Present, Future</h1>
<h3 class="subtitle"><em>Terrain analysis using OSM and Whitebox</em></h3>
<h4 class="author" style="text-align: center;"><em><a href="https://anguswg-ucsb.github.io/">Angus Watters</a> - </em></h4>

</div>


<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(sf)        <span class="co"># vector manipulation</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(raster)    <span class="co"># raster manipulation</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw">library</span>(fasterize) <span class="co"># &quot;faster&quot; raster</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw">library</span>(whitebox)  <span class="co"># terrain analysis</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">library</span>(AOI)</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co"># Data libraries</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="kw">library</span>(osmdata)   <span class="co"># OSM API</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="kw">library</span>(elevatr)   <span class="co"># Elevation  Web Tiles</span></span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co"># USGS Mission Creek, Santa Barbara gage data</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>basin  =<span class="st"> </span><span class="kw">read_sf</span>(<span class="st">&quot;https://labs.waterdata.usgs.gov/api/nldi/linked-data/nwissite/USGS-11119750/basin/&quot;</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="kw">write_sf</span>(basin, <span class="dt">dsn =</span> <span class="st">&quot;../data/USGS-11119750.gpkg&quot;</span>)</span></code></pre></div>
<div id="background" class="section level2">
<h2><strong>Background</strong></h2>
<hr />
<div id="mission-creek-begins-at-rattle-snake-canyon-runs-through-santa-barbara-and-drains-into-the-ocean.-the-basin-has-flooded-on-several-occasions-causing-damage-to-structures-situated-along-the-basin.-data-is-sourced-from-a-usgs-gage-using-the-usgs-network-linked-data-index." class="section level4">
<h4>Mission Creek begins at Rattle Snake Canyon, runs through Santa Barbara, and drains into the ocean. The basin has flooded on several occasions causing damage to structures situated along the basin. Data is sourced from a USGS gage using the USGS Network Linked Data Index.</h4>
</div>
</div>
<div id="estimated-impacts-of-flooding-on-structures-along-mission-creek" class="section level2">
<h2><strong>Estimated Impacts of flooding on structures along Mission Creek</strong></h2>
<hr />
<p><img src="lab-06_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>



&nbsp;
<hr />

<!-- Add icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
&nbsp;


</div>
</div>

</div>





<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
